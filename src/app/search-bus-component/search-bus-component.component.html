<app-header></app-header>
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	<title>Booking Form HTML Template</title>

	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Poppins:400" rel="stylesheet">
</head>

<body > 
	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<div class="booking-form">
						<form [formGroup] = "searchBus" (ngSubmit)="getBusList();" >
							<div class="row no-margin">
								<div class="col-md-3">
									<div class="form-group">
										<span class="form-label">To</span>
          
										
										<select formControlName="destination">
											<option *ngFor="let destination of  destList" [value]="destination"
											  >{{destination}}</option
											>
										  </select>
									</div>
								</div>
								<div class="col-md-6">
									<div class="row no-margin">
										<div class="col-md-5">
											<div class="form-group">
                                                <span class="form-label">From</span>
												<select formControlName="source">
													<option *ngFor="let source of  sourceList" [value]="source"
													  >{{source}}</option
													>
												  </select>
											</div>
										</div>



										<div class="col-md-5">
											<div class="form-group">
												<span class="form-label">Date Of Travel</span>
												<input class="form-control" type="date"  required formControlName="dateofJourney">
											</div>
										</div>
									
                <div class="col">
									<div class="form-group">
										<span class="form-label">Journey Type</span>
											<input class="form-control" list="JourneyType" type="text" required formControlName="JourneyType" >   
                                            <datalist id="JourneyType">
												<option>SINGLE</option>
												<option>RETURN</option>
											</datalist>
									</div>
								</div>

                <div class="col">
									<div class="form-group">
                    <span class="form-label">User Email</span>
                    <input type="email" class="form-control" required formControlName="email" id="email">



                    </div>
                </div>
                </div>
                </div>
								<div class="col-md-3">
									<div class="form-btn">
										<button class="submit-btn" >Search Bus</button>
									</div>
								</div>
							</div>
            </form>
            <div class="container">
              <table class="table table-bordered"   >
                <thead class="thead-dark">
                      <tr>
                          <th>Bus Name</th>
                          <th>Source</th>
                          <th>Destination</th>
                          <th>Bus Type</th>
                          <th>Date Of Journey</th>
                          <th>Departure Time</th>
                          <th>Booking</th>
                         
                      </tr>
                  </thead>
                  <tbody>
                        <tr *ngFor="let bus of busList">
          
                         
                  <td> {{bus[2]}} </td>
                  <td> {{bus[6]}} </td>
                          <td>{{bus[7]}} </td>
                          <td> {{bus[3]}} </td>
                          <td> {{bus[4]}} </td>
                          <td> {{bus[5]}} </td> 
                  <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="getTTID(bus[0]);getbookSeat()">
                    View Seats
                    </button></td> 
                  
                         
                      </tr>
                  </tbody>
              </table>
          </div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- <div class="container">
    <table class="table table-bordered"   >
      <thead class="thead-dark">
            <tr>
				        <th>Bus Name</th>
				        <th>Source</th>
                <th>Destination</th>
                <th>Bus Type</th>
                <th>Date Of Journey</th>
				        <th>Departure Time</th>
				        <th>Booking</th>
               
            </tr>
        </thead>
        <tbody>
              <tr *ngFor="let bus of busList">

               
				<td> {{bus[2]}} </td>
				<td> {{bus[6]}} </td>
                <td>{{bus[7]}} </td>
                <td> {{bus[3]}} </td>
                <td> {{bus[4]}} </td>
                <td> {{bus[5]}} </td> 
				<td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="getTTID(bus[0]);getbookSeat()">
					View Seats
				  </button></td> 
				
               
            </tr>
        </tbody>
    </table>
</div> -->

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title" id="exampleModalLabel">Select Seats</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  
  <div class="container-fluid pt-5 mb-5">
    <div class="row justify-content-center">
      <div class="col-md-9 ">
      <div class="seat_plan_wrap">
        <div class="row">
          <div class="col-md-6">
            <h6>Select Seats </h6>
            <div class="seats">
              <div class="handle">
                <img src="../assets/img/handle.png" alt="">
              </div>
              <div class="row1">
                <ul>
                  <li>
                    <a (click)="Seat('1')" id="1" title="[1]">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a (click)="Seat('3')" id="3" title="[3]">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[5]" (click)="Seat('5')" id="5">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[7]" (click)="Seat('7')" id="7">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[9]" (click)="Seat('9')" id="9">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[11]" (click)="Seat('11')" id="11">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[13]" (click)="Seat('13')" id="13">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[15]" (click)="Seat('15')" id="15">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[17]" (click)="Seat('17')" id="17">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                </ul>


                <ul>
                  <li>
                    <a title="[2]" (click)="Seat('2')" id="2">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[4]" (click)="Seat('4')" id="4">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[6]" (click)="Seat('6')" id="6">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[8]" (click)="Seat('8')" id="8">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[10]" (click)="Seat('10')" id="10">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[12]" (click)="Seat('12')" id="12">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[14]" (click)="Seat('14')" id="14">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[16]" (click)="Seat('16')" id="16">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[18]" (click)="Seat('18')" id="18">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                </ul>

              </div>
              <div class="row1">

                <ul>
                  <!-- ROW 3 START -->
                  <li>
                    <a title="[19]" (click)="Seat('19')" id="19">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[21]" (click)="Seat('21')" id="21">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[23]" (click)="Seat('23')" id="23">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[25]" (click)="Seat('25')" id="25">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[27]" (click)="Seat('27')" id="27">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[29]" (click)="Seat('29')" id="29">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[31]" (click)="Seat('31')" id="31">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[33]" (click)="Seat('33')" id="33">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[35]" (click)="Seat('35')" id="35">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                </ul>

                <!-- ROW 3 COMPLETE  -->

                <ul>
                  <!-- ROW 4 START  -->
                  <li>
                    <a title="[20]" (click)="Seat('20')" id="20">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[22]" (click)="Seat('22')" id="22">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[24]" (click)="Seat('24')" id="24">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[26]" (click)="Seat('26')" id="26">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[28]" (click)="Seat('28')" id="28">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[30]" (click)="Seat('30')" id="30">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[32]" (click)="Seat('32')" id="32">
                      <img src="../assets/img/bseat.png" alt="">

                    </a>
                  </li>
                  <li>
                    <a title="[34]" (click)="Seat('34')" id="34">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                  <li>
                    <a title="[36]" (click)="Seat('36')" id="36">
                      <img src="../assets/img/bseat.png" alt="">
                    </a>
                  </li>
                </ul>

              </div>
             
            </div>
             <div class="alert alert-danger ">You can buy only 4 seats at a time </div> 
          </div>
          <div class="col-md-6 ">
          <div class="seat_plan">
            <table class="table ">
              <thead>
                <tr>
                  <th>Seat Numbers</th>
                
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let s of showSeatList">
                  <td>{{s}}</td>
                 
                </tr>
              </tbody>
            </table>
          </div>
            <div class="row ">
               <button (click)="confirmJourney()" class="btn mt-3 ml-3 btn-primary btn-sm btn-block ">Confirm</button> 
            </div>
          
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>

		</div>
		
	  </div>
	</div>
  </div>		  
</body>

</html>
